import{_ as e,p as n,a as o,r as t,o as a,c as s,b as r,t as c,w as l,d as i,u as d,e as m,f as p,g as u,h as _,i as f,j as h,V as v,k as g,l as k,m as w,n as y,q as E,s as b,v as I,x as P,y as A,z as S,A as L,B as x,C as j,D,E as O,F as C,G as M,H as T,I as V,J as H,K as R}from"./vendor.86ff60f9.js";function $(e){const n=window.localStorage.getItem(e);try{return JSON.parse(window.localStorage.getItem(e))}catch(o){return n}}function F(e,n){window.localStorage.setItem(e,JSON.stringify(n))}function z(n){if(n.response){console.error(n.response.data);const{code:o,message:t}=n.response.data;e.error(`Error: ${o} - ${t}`)}}const J={name:"Header",props:{title:{type:String}},setup:()=>({logout:()=>{var e;e="token",window.localStorage.removeItem(e),window.location.reload()}})},W=l("data-v-84a6c7b4");n("data-v-84a6c7b4");const q={class:"header"},G={class:"left"},N={style:{"font-size":"20px"}},B={class:"right"},K=r("div",{class:"author"},[r("i",{class:"icon el-icon-s-custom"}),i(" Admin "),r("i",{class:"el-icon-caret-bottom"})],-1),Q={class:"nickname"},U=r("p",null,"用戶: Admin",-1),X=r("p",null,"角色: 管理員",-1),Y=i("退出系統");o();const Z=W(((e,n,o,l,i,d)=>{const m=t("el-tag"),p=t("el-popover");return a(),s("div",q,[r("div",G,[r("span",N,c(o.title),1)]),r("div",B,[r(p,{placement:"bottom",width:320,trigger:"click","popper-class":"popper-user-box"},{reference:W((()=>[K])),default:W((()=>[r("div",Q,[U,X,r(m,{size:"small",effect:"dark",class:"logout",onClick:l.logout},{default:W((()=>[Y])),_:1},8,["onClick"])])])),_:1})])])}));J.render=Z,J.__scopeId="data-v-84a6c7b4";const ee={name:"Footer"},ne=l("data-v-4d54e0b3");n("data-v-4d54e0b3");const oe={class:"footer"},te=r("div",{class:"left"},null,-1),ae=r("div",{class:"right"}," Powered by MEGA Automation ",-1);o();const se=ne(((e,n,o,t,r,c)=>(a(),s("div",oe,[te,ae]))));ee.render=se,ee.__scopeId="data-v-4d54e0b3";const re={name:"App",components:{Header:J,Footer:ee},setup(){const e=["/login"],n={"/port":"端口管理","/door":"系統配置","/card":"住戶管理","/history":"換卡歷史","/clockin":"刷卡記錄","/login":"登錄頁面"},o=d(),t=m({showMenu:!0,currentPath:""});p((()=>o.path),(n=>{t.showMenu=!e.includes(n),t.currentPath=n}));const a=u((()=>n[t.currentPath]));return{state:t,title:a,onMenuSelect:e=>{t.currentPath=e}}}},ce=l("data-v-7e63ea4a");n("data-v-7e63ea4a");const le=r("div",{class:"head"},[r("div",null,[r("span",null,"門禁卡管理系統")])],-1),ie=r("div",{class:"line"},null,-1),de=r("i",{class:"el-icon-menu"},null,-1),me=i("端口管理"),pe=r("i",{class:"el-icon-menu"},null,-1),ue=i("系統配置"),_e=r("i",{class:"el-icon-user-solid"},null,-1),fe=i("住戶管理"),he=r("i",{class:"el-icon-s-order"},null,-1),ve=i("換卡歷史"),ge=r("i",{class:"el-icon-odometer"},null,-1),ke=i("刷卡記錄"),we={class:"main"};o();const ye=ce(((e,n,o,c,l,i)=>{const d=t("el-menu-item"),m=t("el-menu"),p=t("el-aside"),u=t("Header"),_=t("router-view"),f=t("Footer"),h=t("el-container");return c.state.showMenu?(a(),s(h,{key:0,class:"container"},{default:ce((()=>[r(p,{class:"aside"},{default:ce((()=>[le,ie,r(m,{"background-color":"#222832","text-color":"#fff",router:!0,"default-active":c.state.currentPath,onSelect:c.onMenuSelect},{default:ce((()=>[r(d,{index:"/port"},{default:ce((()=>[de,me])),_:1}),r(d,{index:"/door"},{default:ce((()=>[pe,ue])),_:1}),r(d,{index:"/card"},{default:ce((()=>[_e,fe])),_:1}),r(d,{index:"/history"},{default:ce((()=>[he,ve])),_:1}),r(d,{index:"/clockin"},{default:ce((()=>[ge,ke])),_:1})])),_:1},8,["default-active","onSelect"])])),_:1}),r(h,{class:"content"},{default:ce((()=>[r(u,{title:c.title},null,8,["title"]),r("div",we,[r(_)]),r(f)])),_:1})])),_:1})):(a(),s(h,{key:1,class:"container"},{default:ce((()=>[r(_)])),_:1}))}));let Ee;re.render=ye,re.__scopeId="data-v-7e63ea4a";const be={},Ie=function(e,n){if(!n||0===n.length)return e();if(void 0===Ee){const e=document.createElement("link").relList;Ee=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(n.map((e=>{if((e=`./${e}`)in be)return;be[e]=!0;const n=e.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const t=document.createElement("link");return t.rel=n?"stylesheet":Ee,n||(t.as="script",t.crossOrigin=""),t.href=e,document.head.appendChild(t),n?new Promise(((e,n)=>{t.addEventListener("load",e),t.addEventListener("error",n)})):void 0}))).then((()=>e()))},Pe=[{path:"/",redirect:"/card"},{path:"/door",name:"door",component:()=>Ie((()=>import("./Door.8eb190c6.js")),["assets/Door.8eb190c6.js","assets/Door.6bedde98.css","assets/index.4fe1307f.js","assets/vendor.86ff60f9.js","assets/axios.641f0188.js"])},{path:"/card",name:"card",component:()=>Ie((()=>import("./Card.15082bec.js")),["assets/Card.15082bec.js","assets/Card.68bc687d.css","assets/vendor.86ff60f9.js","assets/index.4fe1307f.js","assets/axios.641f0188.js"])},{path:"/history",name:"history",component:()=>Ie((()=>import("./CardHistory.007b7ee2.js")),["assets/CardHistory.007b7ee2.js","assets/CardHistory.073e1473.css","assets/moment.08a7f518.js","assets/axios.641f0188.js","assets/vendor.86ff60f9.js"])},{path:"/clockin",name:"clockin",component:()=>Ie((()=>import("./ClockIn.47987430.js")),["assets/ClockIn.47987430.js","assets/ClockIn.168aac81.css","assets/moment.08a7f518.js","assets/axios.641f0188.js","assets/vendor.86ff60f9.js"])},{path:"/port",name:"port",component:()=>Ie((()=>import("./Port.0163035d.js")),["assets/Port.0163035d.js","assets/Port.e6f90ec7.css","assets/vendor.86ff60f9.js","assets/axios.641f0188.js"])},{path:"/login",name:"login",component:()=>Ie((()=>import("./Login.1a8d1497.js")),["assets/Login.1a8d1497.js","assets/Login.32bb792d.css","assets/axios.641f0188.js","assets/vendor.86ff60f9.js"])}],Ae=_({history:f(),routes:Pe});Ae.beforeEach(((e,n,o)=>{"login"===e.name||$("token")?o():o({name:"login"})}));let Se=null;const Le=e=>{const{key:n,value:o}=e.data;"init"!==n||(({})=>{const e=h(re);e.use(v,"ws://localhost:4003",{reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),e.use(Ae),e.component(g.name,g),e.component(k.name,k),e.component(w.name,w),e.component(y.name,y),e.component(E.name,E),e.component(b.name,b),e.component(I.name,I),e.component(P.name,P),e.component(A.name,A),e.component(S.name,S),e.component(L.name,L),e.component(x.name,x),e.component(j.name,j),e.component(D.name,D),e.component(O.name,O),e.component(C.name,C),e.component(M.name,M),e.component(T.name,T),e.component(V.name,V),e.component(H.name,H),e.use(R),e.mount("#app")})(o)};(()=>{if(window.Worker)return Se=new Worker("./worker/worker.js"),void(Se.onmessage=Le);document.body.innerHTML="請切換您的瀏覽器到最新的現代瀏覽器"})();export{F as a,z as h,$ as l,Ae as r};
