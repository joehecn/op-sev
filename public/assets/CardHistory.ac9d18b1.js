var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;import{h as s}from"./moment.08a7f518.js";import{C as i}from"./axios.c39f5eba.js";import{e as p,R as c,M as d,p as g,a as u,r as b,S as f,o as m,c as h,T as y,b as v,t as w,w as P}from"./vendor.504a7642.js";import"./index.1d35ec86.js";const j={name:"CardHistory",setup(){const e=p({loading:!1,tableData:[],total:0,currentPage:1,pageSize:10,type:"add",doorOptions:[]});c((()=>{g()}));const g=()=>{e.loading=!0,i.get("/history/list").then((a=>{const t=(e.currentPage-1)*e.pageSize,r=t+e.pageSize;e.total=a.length,e.tableData=a.slice(t,r),e.loading=!1})).catch((e=>{console.log(e)}))};return u=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(r)for(var t of r(a))l.call(a,t)&&n(e,t,a[t]);return e})({},d(e)),a(u,t({changePage:a=>{e.currentPage=a,g()},refreshData:g,formatTime:e=>s(e).format("YYYY-MM-DD HH:mm:ss")}));var u}},O=P();g("data-v-ae3d6768");const C=v("div",{class:"header"},null,-1);u();const D=O(((e,a,t,r,o,l)=>{const n=b("el-table-column"),s=b("el-table"),i=b("el-pagination"),p=b("el-card"),c=f("loading");return m(),h(p,{class:"index-container"},{header:O((()=>[C])),default:O((()=>[y(v(s,{data:e.tableData,"tooltip-effect":"dark",style:{width:"100%"}},{default:O((()=>[v(n,{prop:"cardNo",label:"舊卡",width:"200"}),v(n,{prop:"newCardNo",label:"新卡",width:"200"}),v(n,{prop:"username",label:"用戶名"}),v(n,{prop:"realname",label:"姓名"}),v(n,{prop:"userInfo",label:"住戶信息"}),v(n,{label:"時間",width:"200"},{default:O((e=>[v("div",null,w(r.formatTime(e.row.createdAt)),1)])),_:1})])),_:1},8,["data"]),[[c,e.loading]]),v(i,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:r.changePage},null,8,["total","page-size","current-page","onCurrentChange"])])),_:1})}));j.render=D,j.__scopeId="data-v-ae3d6768";export default j;
