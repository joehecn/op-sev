import{_ as e,p as n,a as o,r as t,o as a,c as s,b as c,t as r,w as l,d as i,u as d,e as m,f as p,g as u,h as _,i as f,j as h,k as v,V as g,l as k,m as w,n as E,q as b,s as y,v as I,x as D,y as P,z as A,A as L,B as S,C,D as O,E as x,F as j,G as M,H as V,I as R,J as T,K as H,L as $,M as F,N as z}from"./vendor.559dc3a1.js";function B(e){const n=window.localStorage.getItem(e);try{return JSON.parse(window.localStorage.getItem(e))}catch(o){return n}}function J(e,n){window.localStorage.setItem(e,JSON.stringify(n))}function N(n){if(n.response){console.error(n.response.data);const{code:o,message:t}=n.response.data;e.error(`Error: ${o} - ${t}`)}}const W={name:"Header",props:{title:{type:String}},setup:()=>({logout:()=>{var e;e="token",window.localStorage.removeItem(e),window.location.reload()}})},q=l("data-v-84a6c7b4");n("data-v-84a6c7b4");const G={class:"header"},K={class:"left"},U={style:{"font-size":"20px"}},Q={class:"right"},X=c("div",{class:"author"},[c("i",{class:"icon el-icon-s-custom"}),i(" Admin "),c("i",{class:"el-icon-caret-bottom"})],-1),Y={class:"nickname"},Z=c("p",null,"用戶: Admin",-1),ee=c("p",null,"角色: 管理員",-1),ne=i("退出系統");o();const oe=q(((e,n,o,l,i,d)=>{const m=t("el-tag"),p=t("el-popover");return a(),s("div",G,[c("div",K,[c("span",U,r(o.title),1)]),c("div",Q,[c(p,{placement:"bottom",width:320,trigger:"click","popper-class":"popper-user-box"},{reference:q((()=>[X])),default:q((()=>[c("div",Y,[Z,ee,c(m,{size:"small",effect:"dark",class:"logout",onClick:l.logout},{default:q((()=>[ne])),_:1},8,["onClick"])])])),_:1})])])}));W.render=oe,W.__scopeId="data-v-84a6c7b4";const te={name:"Footer"},ae=l("data-v-4d54e0b3");n("data-v-4d54e0b3");const se={class:"footer"},ce=c("div",{class:"left"},null,-1),re=c("div",{class:"right"}," Powered by MEGA Automation ",-1);o();const le=ae(((e,n,o,t,c,r)=>(a(),s("div",se,[ce,re]))));te.render=le,te.__scopeId="data-v-4d54e0b3";const ie={name:"App",components:{Header:W,Footer:te},setup(){const e=["/login"],n={"/port":"端口管理","/door":"系統配置","/card":"住戶管理","/history":"換卡歷史","/clockin":"刷卡記錄","/login":"登錄頁面"},o=d(),t=m({showMenu:!0,currentPath:""});p((()=>o.path),(n=>{t.showMenu=!e.includes(n),t.currentPath=n}));const a=u((()=>n[t.currentPath]));return{state:t,title:a,onMenuSelect:e=>{t.currentPath=e}}}},de=l("data-v-7e63ea4a");n("data-v-7e63ea4a");const me=c("div",{class:"head"},[c("div",null,[c("span",null,"門禁卡管理系統")])],-1),pe=c("div",{class:"line"},null,-1),ue=c("i",{class:"el-icon-menu"},null,-1),_e=i("端口管理"),fe=c("i",{class:"el-icon-menu"},null,-1),he=i("系統配置"),ve=c("i",{class:"el-icon-user-solid"},null,-1),ge=i("住戶管理"),ke=c("i",{class:"el-icon-s-order"},null,-1),we=i("換卡歷史"),Ee=c("i",{class:"el-icon-odometer"},null,-1),be=i("刷卡記錄"),ye={class:"main"};o();const Ie=de(((e,n,o,r,l,i)=>{const d=t("el-menu-item"),m=t("el-menu"),p=t("el-aside"),u=t("Header"),_=t("router-view"),f=t("Footer"),h=t("el-container");return r.state.showMenu?(a(),s(h,{key:0,class:"container"},{default:de((()=>[c(p,{class:"aside"},{default:de((()=>[me,pe,c(m,{"background-color":"#222832","text-color":"#fff",router:!0,"default-active":r.state.currentPath,onSelect:r.onMenuSelect},{default:de((()=>[c(d,{index:"/port"},{default:de((()=>[ue,_e])),_:1}),c(d,{index:"/door"},{default:de((()=>[fe,he])),_:1}),c(d,{index:"/card"},{default:de((()=>[ve,ge])),_:1}),c(d,{index:"/history"},{default:de((()=>[ke,we])),_:1}),c(d,{index:"/clockin"},{default:de((()=>[Ee,be])),_:1})])),_:1},8,["default-active","onSelect"])])),_:1}),c(h,{class:"content"},{default:de((()=>[c(u,{title:r.title},null,8,["title"]),c("div",ye,[c(_)]),c(f)])),_:1})])),_:1})):(a(),s(h,{key:1,class:"container"},{default:de((()=>[c(_)])),_:1}))}));ie.render=Ie,ie.__scopeId="data-v-7e63ea4a";const De=_({state:()=>({vbClientID:""}),mutations:{setVBClientID(e,{vbClientID:n}){e.vbClientID=n}}});let Pe;const Ae={},Le=function(e,n){if(!n||0===n.length)return e();if(void 0===Pe){const e=document.createElement("link").relList;Pe=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(n.map((e=>{if((e=`./${e}`)in Ae)return;Ae[e]=!0;const n=e.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const t=document.createElement("link");return t.rel=n?"stylesheet":Pe,n||(t.as="script",t.crossOrigin=""),t.href=e,document.head.appendChild(t),n?new Promise(((e,n)=>{t.addEventListener("load",e),t.addEventListener("error",n)})):void 0}))).then((()=>e()))},Se=[{path:"/",redirect:"/card"},{path:"/door",name:"door",component:()=>Le((()=>import("./Door.bb924d34.js")),["assets/Door.bb924d34.js","assets/Door.22593a32.css","assets/index.c60800b2.js","assets/vendor.559dc3a1.js","assets/axios.1f9a9e3a.js","assets/FileSaver.min.81b7fc4b.js"])},{path:"/card",name:"card",component:()=>Le((()=>import("./Card.07b4e766.js")),["assets/Card.07b4e766.js","assets/Card.3de317a4.css","assets/vendor.559dc3a1.js","assets/index.c60800b2.js","assets/axios.1f9a9e3a.js","assets/FileSaver.min.81b7fc4b.js"])},{path:"/history",name:"history",component:()=>Le((()=>import("./CardHistory.4ac3b433.js")),["assets/CardHistory.4ac3b433.js","assets/CardHistory.f9d7f6e3.css","assets/FileSaver.min.81b7fc4b.js","assets/vendor.559dc3a1.js","assets/axios.1f9a9e3a.js"])},{path:"/clockin",name:"clockin",component:()=>Le((()=>import("./ClockIn.c59863cf.js")),["assets/ClockIn.c59863cf.js","assets/ClockIn.26711538.css","assets/FileSaver.min.81b7fc4b.js","assets/vendor.559dc3a1.js","assets/axios.1f9a9e3a.js"])},{path:"/port",name:"port",component:()=>Le((()=>import("./Port.2828d7f8.js")),["assets/Port.2828d7f8.js","assets/Port.e5c7d93e.css","assets/vendor.559dc3a1.js","assets/axios.1f9a9e3a.js"])},{path:"/login",name:"login",component:()=>Le((()=>import("./Login.73834ed4.js")),["assets/Login.73834ed4.js","assets/Login.32bb792d.css","assets/axios.1f9a9e3a.js","assets/vendor.559dc3a1.js"])}],Ce=f({history:h(),routes:Se});Ce.beforeEach(((e,n,o)=>{"login"===e.name||B("token")?o():o({name:"login"})}));let Oe=null;const xe=e=>{const{key:n,value:o}=e.data;"init"!==n||(({})=>{const e=v(ie);console.log({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0});let n="localhost:4003";n=location.host,console.log({domain:n}),e.use(g,`ws://${n}`,{reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),e.use(De),e.use(Ce),e.component(k.name,k),e.component(w.name,w),e.component(E.name,E),e.component(b.name,b),e.component(y.name,y),e.component(I.name,I),e.component(D.name,D),e.component(P.name,P),e.component(A.name,A),e.component(L.name,L),e.component(S.name,S),e.component(C.name,C),e.component(O.name,O),e.component(x.name,x),e.component(j.name,j),e.component(M.name,M),e.component(V.name,V),e.component(R.name,R),e.component(T.name,T),e.component(H.name,H),e.component($.name,$),e.component(F.name,F),e.use(z),e.mount("#app")})(o)};(()=>{if(window.Worker)return Oe=new Worker("./worker/worker.js"),void(Oe.onmessage=xe);document.body.innerHTML="請切換您的瀏覽器到最新的現代瀏覽器"})();export{J as a,N as h,B as l,Ce as r};
