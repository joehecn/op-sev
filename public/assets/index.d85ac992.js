import{_ as e,p as o,a as n,r as t,o as a,c as s,b as r,t as c,w as l,d as i,u as d,e as m,f as p,g as u,h as _,i as f,j as h,V as v,k as g,l as k,m as w,n as E,q as y,s as b,v as P,x as I,y as A,z as S,A as D,B as L,C as O,D as x,E as j,F as M,G as R,H as V,I as C,J as T,K as H}from"./vendor.d337cd1b.js";function $(e){const o=window.localStorage.getItem(e);try{return JSON.parse(window.localStorage.getItem(e))}catch(n){return o}}function F(e,o){window.localStorage.setItem(e,JSON.stringify(o))}function z(o){if(o.response){console.error(o.response.data);const{code:n,message:t}=o.response.data;e.error(`Error: ${n} - ${t}`)}}const J={name:"Header",props:{title:{type:String}},setup:()=>({logout:()=>{var e;e="token",window.localStorage.removeItem(e),window.location.reload()}})},W=l("data-v-84a6c7b4");o("data-v-84a6c7b4");const q={class:"header"},B={class:"left"},G={style:{"font-size":"20px"}},N={class:"right"},K=r("div",{class:"author"},[r("i",{class:"icon el-icon-s-custom"}),i(" Admin "),r("i",{class:"el-icon-caret-bottom"})],-1),U={class:"nickname"},Q=r("p",null,"用戶: Admin",-1),X=r("p",null,"角色: 管理員",-1),Y=i("退出系統");n();const Z=W(((e,o,n,l,i,d)=>{const m=t("el-tag"),p=t("el-popover");return a(),s("div",q,[r("div",B,[r("span",G,c(n.title),1)]),r("div",N,[r(p,{placement:"bottom",width:320,trigger:"click","popper-class":"popper-user-box"},{reference:W((()=>[K])),default:W((()=>[r("div",U,[Q,X,r(m,{size:"small",effect:"dark",class:"logout",onClick:l.logout},{default:W((()=>[Y])),_:1},8,["onClick"])])])),_:1})])])}));J.render=Z,J.__scopeId="data-v-84a6c7b4";const ee={name:"Footer"},oe=l("data-v-4d54e0b3");o("data-v-4d54e0b3");const ne={class:"footer"},te=r("div",{class:"left"},null,-1),ae=r("div",{class:"right"}," Powered by MEGA Automation ",-1);n();const se=oe(((e,o,n,t,r,c)=>(a(),s("div",ne,[te,ae]))));ee.render=se,ee.__scopeId="data-v-4d54e0b3";const re={name:"App",components:{Header:J,Footer:ee},setup(){const e=["/login"],o={"/port":"端口管理","/door":"系統配置","/card":"住戶管理","/history":"換卡歷史","/clockin":"刷卡記錄","/login":"登錄頁面"},n=d(),t=m({showMenu:!0,currentPath:""});p((()=>n.path),(o=>{t.showMenu=!e.includes(o),t.currentPath=o}));const a=u((()=>o[t.currentPath]));return{state:t,title:a,onMenuSelect:e=>{t.currentPath=e}}}},ce=l("data-v-7e63ea4a");o("data-v-7e63ea4a");const le=r("div",{class:"head"},[r("div",null,[r("span",null,"門禁卡管理系統")])],-1),ie=r("div",{class:"line"},null,-1),de=r("i",{class:"el-icon-menu"},null,-1),me=i("端口管理"),pe=r("i",{class:"el-icon-menu"},null,-1),ue=i("系統配置"),_e=r("i",{class:"el-icon-user-solid"},null,-1),fe=i("住戶管理"),he=r("i",{class:"el-icon-s-order"},null,-1),ve=i("換卡歷史"),ge=r("i",{class:"el-icon-odometer"},null,-1),ke=i("刷卡記錄"),we={class:"main"};n();const Ee=ce(((e,o,n,c,l,i)=>{const d=t("el-menu-item"),m=t("el-menu"),p=t("el-aside"),u=t("Header"),_=t("router-view"),f=t("Footer"),h=t("el-container");return c.state.showMenu?(a(),s(h,{key:0,class:"container"},{default:ce((()=>[r(p,{class:"aside"},{default:ce((()=>[le,ie,r(m,{"background-color":"#222832","text-color":"#fff",router:!0,"default-active":c.state.currentPath,onSelect:c.onMenuSelect},{default:ce((()=>[r(d,{index:"/port"},{default:ce((()=>[de,me])),_:1}),r(d,{index:"/door"},{default:ce((()=>[pe,ue])),_:1}),r(d,{index:"/card"},{default:ce((()=>[_e,fe])),_:1}),r(d,{index:"/history"},{default:ce((()=>[he,ve])),_:1}),r(d,{index:"/clockin"},{default:ce((()=>[ge,ke])),_:1})])),_:1},8,["default-active","onSelect"])])),_:1}),r(h,{class:"content"},{default:ce((()=>[r(u,{title:c.title},null,8,["title"]),r("div",we,[r(_)]),r(f)])),_:1})])),_:1})):(a(),s(h,{key:1,class:"container"},{default:ce((()=>[r(_)])),_:1}))}));let ye;re.render=Ee,re.__scopeId="data-v-7e63ea4a";const be={},Pe=function(e,o){if(!o||0===o.length)return e();if(void 0===ye){const e=document.createElement("link").relList;ye=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(o.map((e=>{if((e=`./${e}`)in be)return;be[e]=!0;const o=e.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const t=document.createElement("link");return t.rel=o?"stylesheet":ye,o||(t.as="script",t.crossOrigin=""),t.href=e,document.head.appendChild(t),o?new Promise(((e,o)=>{t.addEventListener("load",e),t.addEventListener("error",o)})):void 0}))).then((()=>e()))},Ie=[{path:"/",redirect:"/card"},{path:"/door",name:"door",component:()=>Pe((()=>import("./Door.18d4c37a.js")),["assets/Door.18d4c37a.js","assets/Door.a2863e03.css","assets/index.4cc97f2e.js","assets/vendor.d337cd1b.js","assets/axios.4ad74d11.js","assets/moment.08a7f518.js"])},{path:"/card",name:"card",component:()=>Pe((()=>import("./Card.24767a02.js")),["assets/Card.24767a02.js","assets/Card.54ca4cfb.css","assets/vendor.d337cd1b.js","assets/index.4cc97f2e.js","assets/axios.4ad74d11.js"])},{path:"/history",name:"history",component:()=>Pe((()=>import("./CardHistory.979b7941.js")),["assets/CardHistory.979b7941.js","assets/CardHistory.073e1473.css","assets/moment.08a7f518.js","assets/axios.4ad74d11.js","assets/vendor.d337cd1b.js"])},{path:"/clockin",name:"clockin",component:()=>Pe((()=>import("./ClockIn.5ae4c4f3.js")),["assets/ClockIn.5ae4c4f3.js","assets/ClockIn.168aac81.css","assets/moment.08a7f518.js","assets/axios.4ad74d11.js","assets/vendor.d337cd1b.js"])},{path:"/port",name:"port",component:()=>Pe((()=>import("./Port.ba7334bf.js")),["assets/Port.ba7334bf.js","assets/Port.e6f90ec7.css","assets/vendor.d337cd1b.js","assets/axios.4ad74d11.js"])},{path:"/login",name:"login",component:()=>Pe((()=>import("./Login.72b358a8.js")),["assets/Login.72b358a8.js","assets/Login.32bb792d.css","assets/axios.4ad74d11.js","assets/vendor.d337cd1b.js"])}],Ae=_({history:f(),routes:Ie});Ae.beforeEach(((e,o,n)=>{"login"===e.name||$("token")?n():n({name:"login"})}));let Se=null;const De=e=>{const{key:o,value:n}=e.data;"init"!==o||(({})=>{const e=h(re);console.log({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0});let o="localhost:4003";o=location.host,console.log({domain:o}),e.use(v,`ws://${o}`,{reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),e.use(Ae),e.component(g.name,g),e.component(k.name,k),e.component(w.name,w),e.component(E.name,E),e.component(y.name,y),e.component(b.name,b),e.component(P.name,P),e.component(I.name,I),e.component(A.name,A),e.component(S.name,S),e.component(D.name,D),e.component(L.name,L),e.component(O.name,O),e.component(x.name,x),e.component(j.name,j),e.component(M.name,M),e.component(R.name,R),e.component(V.name,V),e.component(C.name,C),e.component(T.name,T),e.use(H),e.mount("#app")})(n)};(()=>{if(window.Worker)return Se=new Worker("./worker/worker.js"),void(Se.onmessage=De);document.body.innerHTML="請切換您的瀏覽器到最新的現代瀏覽器"})();export{F as a,z as h,$ as l,Ae as r};
