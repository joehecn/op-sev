import{_ as e,p as n,a as o,r as t,o as a,c as s,b as r,t as c,w as l,d as i,u as d,e as m,f as p,g as u,h as _,i as f,j as h,k as v,V as g,l as k,m as w,n as E,q as y,s as b,v as I,x as D,y as P,z as A,A as L,B as S,C,D as O,E as x,F as j,G as V,H as M,I as R,J as T,K as H,L as $}from"./vendor.8e75f880.js";function F(e){const n=window.localStorage.getItem(e);try{return JSON.parse(window.localStorage.getItem(e))}catch(o){return n}}function z(e,n){window.localStorage.setItem(e,JSON.stringify(n))}function B(n){if(n.response){console.error(n.response.data);const{code:o,message:t}=n.response.data;e.error(`Error: ${o} - ${t}`)}}const J={name:"Header",props:{title:{type:String}},setup:()=>({logout:()=>{var e;e="token",window.localStorage.removeItem(e),window.location.reload()}})},W=l("data-v-84a6c7b4");n("data-v-84a6c7b4");const q={class:"header"},G={class:"left"},N={style:{"font-size":"20px"}},K={class:"right"},U=r("div",{class:"author"},[r("i",{class:"icon el-icon-s-custom"}),i(" Admin "),r("i",{class:"el-icon-caret-bottom"})],-1),Q={class:"nickname"},X=r("p",null,"用戶: Admin",-1),Y=r("p",null,"角色: 管理員",-1),Z=i("退出系統");o();const ee=W(((e,n,o,l,i,d)=>{const m=t("el-tag"),p=t("el-popover");return a(),s("div",q,[r("div",G,[r("span",N,c(o.title),1)]),r("div",K,[r(p,{placement:"bottom",width:320,trigger:"click","popper-class":"popper-user-box"},{reference:W((()=>[U])),default:W((()=>[r("div",Q,[X,Y,r(m,{size:"small",effect:"dark",class:"logout",onClick:l.logout},{default:W((()=>[Z])),_:1},8,["onClick"])])])),_:1})])])}));J.render=ee,J.__scopeId="data-v-84a6c7b4";const ne={name:"Footer"},oe=l("data-v-4d54e0b3");n("data-v-4d54e0b3");const te={class:"footer"},ae=r("div",{class:"left"},null,-1),se=r("div",{class:"right"}," Powered by MEGA Automation ",-1);o();const re=oe(((e,n,o,t,r,c)=>(a(),s("div",te,[ae,se]))));ne.render=re,ne.__scopeId="data-v-4d54e0b3";const ce={name:"App",components:{Header:J,Footer:ne},setup(){const e=["/login"],n={"/port":"端口管理","/door":"系統配置","/card":"住戶管理","/history":"換卡歷史","/clockin":"刷卡記錄","/login":"登錄頁面"},o=d(),t=m({showMenu:!0,currentPath:""});p((()=>o.path),(n=>{t.showMenu=!e.includes(n),t.currentPath=n}));const a=u((()=>n[t.currentPath]));return{state:t,title:a,onMenuSelect:e=>{t.currentPath=e}}}},le=l("data-v-7e63ea4a");n("data-v-7e63ea4a");const ie=r("div",{class:"head"},[r("div",null,[r("span",null,"門禁卡管理系統")])],-1),de=r("div",{class:"line"},null,-1),me=r("i",{class:"el-icon-menu"},null,-1),pe=i("端口管理"),ue=r("i",{class:"el-icon-menu"},null,-1),_e=i("系統配置"),fe=r("i",{class:"el-icon-user-solid"},null,-1),he=i("住戶管理"),ve=r("i",{class:"el-icon-s-order"},null,-1),ge=i("換卡歷史"),ke=r("i",{class:"el-icon-odometer"},null,-1),we=i("刷卡記錄"),Ee={class:"main"};o();const ye=le(((e,n,o,c,l,i)=>{const d=t("el-menu-item"),m=t("el-menu"),p=t("el-aside"),u=t("Header"),_=t("router-view"),f=t("Footer"),h=t("el-container");return c.state.showMenu?(a(),s(h,{key:0,class:"container"},{default:le((()=>[r(p,{class:"aside"},{default:le((()=>[ie,de,r(m,{"background-color":"#222832","text-color":"#fff",router:!0,"default-active":c.state.currentPath,onSelect:c.onMenuSelect},{default:le((()=>[r(d,{index:"/port"},{default:le((()=>[me,pe])),_:1}),r(d,{index:"/door"},{default:le((()=>[ue,_e])),_:1}),r(d,{index:"/card"},{default:le((()=>[fe,he])),_:1}),r(d,{index:"/history"},{default:le((()=>[ve,ge])),_:1}),r(d,{index:"/clockin"},{default:le((()=>[ke,we])),_:1})])),_:1},8,["default-active","onSelect"])])),_:1}),r(h,{class:"content"},{default:le((()=>[r(u,{title:c.title},null,8,["title"]),r("div",Ee,[r(_)]),r(f)])),_:1})])),_:1})):(a(),s(h,{key:1,class:"container"},{default:le((()=>[r(_)])),_:1}))}));ce.render=ye,ce.__scopeId="data-v-7e63ea4a";const be=_({state:()=>({vbClientID:""}),mutations:{setVBClientID(e,{vbClientID:n}){e.vbClientID=n}}});let Ie;const De={},Pe=function(e,n){if(!n||0===n.length)return e();if(void 0===Ie){const e=document.createElement("link").relList;Ie=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(n.map((e=>{if((e=`./${e}`)in De)return;De[e]=!0;const n=e.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const t=document.createElement("link");return t.rel=n?"stylesheet":Ie,n||(t.as="script",t.crossOrigin=""),t.href=e,document.head.appendChild(t),n?new Promise(((e,n)=>{t.addEventListener("load",e),t.addEventListener("error",n)})):void 0}))).then((()=>e()))},Ae=[{path:"/",redirect:"/card"},{path:"/door",name:"door",component:()=>Pe((()=>import("./Door.206876a1.js")),["assets/Door.206876a1.js","assets/Door.a2863e03.css","assets/index.503f9b21.js","assets/vendor.8e75f880.js","assets/axios.2672a526.js","assets/moment.08a7f518.js"])},{path:"/card",name:"card",component:()=>Pe((()=>import("./Card.0584ffff.js")),["assets/Card.0584ffff.js","assets/Card.54ca4cfb.css","assets/vendor.8e75f880.js","assets/index.503f9b21.js","assets/axios.2672a526.js"])},{path:"/history",name:"history",component:()=>Pe((()=>import("./CardHistory.7f43b940.js")),["assets/CardHistory.7f43b940.js","assets/CardHistory.073e1473.css","assets/moment.08a7f518.js","assets/axios.2672a526.js","assets/vendor.8e75f880.js"])},{path:"/clockin",name:"clockin",component:()=>Pe((()=>import("./ClockIn.08658a19.js")),["assets/ClockIn.08658a19.js","assets/ClockIn.168aac81.css","assets/moment.08a7f518.js","assets/axios.2672a526.js","assets/vendor.8e75f880.js"])},{path:"/port",name:"port",component:()=>Pe((()=>import("./Port.26949fac.js")),["assets/Port.26949fac.js","assets/Port.e5c7d93e.css","assets/vendor.8e75f880.js","assets/axios.2672a526.js"])},{path:"/login",name:"login",component:()=>Pe((()=>import("./Login.ad5d9b02.js")),["assets/Login.ad5d9b02.js","assets/Login.32bb792d.css","assets/axios.2672a526.js","assets/vendor.8e75f880.js"])}],Le=f({history:h(),routes:Ae});Le.beforeEach(((e,n,o)=>{"login"===e.name||F("token")?o():o({name:"login"})}));let Se=null;const Ce=e=>{const{key:n,value:o}=e.data;"init"!==n||(({})=>{const e=v(ce);console.log({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0});let n="localhost:4003";n=location.host,console.log({domain:n}),e.use(g,`ws://${n}`,{reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),e.use(be),e.use(Le),e.component(k.name,k),e.component(w.name,w),e.component(E.name,E),e.component(y.name,y),e.component(b.name,b),e.component(I.name,I),e.component(D.name,D),e.component(P.name,P),e.component(A.name,A),e.component(L.name,L),e.component(S.name,S),e.component(C.name,C),e.component(O.name,O),e.component(x.name,x),e.component(j.name,j),e.component(V.name,V),e.component(M.name,M),e.component(R.name,R),e.component(T.name,T),e.component(H.name,H),e.use($),e.mount("#app")})(o)};(()=>{if(window.Worker)return Se=new Worker("./worker/worker.js"),void(Se.onmessage=Ce);document.body.innerHTML="請切換您的瀏覽器到最新的現代瀏覽器"})();export{z as a,B as h,F as l,Le as r};
