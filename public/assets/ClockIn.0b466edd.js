var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;import{h as s}from"./moment.08a7f518.js";import{C as i}from"./axios.c39f5eba.js";import{e as c,R as p,M as d,p as g,a as u,r as b,S as f,o as m,c as h,T as v,b as w,t as y,w as P}from"./vendor.504a7642.js";import"./index.1d35ec86.js";const j={name:"ClockIn",setup(){const e=c({loading:!1,tableData:[],total:0,currentPage:1,pageSize:10,type:"add",doorOptions:[]});p((()=>{g()}));const g=()=>{e.loading=!0,i.get("/clockin/list").then((a=>{const t=(e.currentPage-1)*e.pageSize,r=t+e.pageSize;e.total=a.length,e.tableData=a.slice(t,r),e.loading=!1})).catch((e=>{console.log(e)}))};return u=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(r)for(var t of r(a))l.call(a,t)&&n(e,t,a[t]);return e})({},d(e)),a(u,t({changePage:a=>{e.currentPage=a,g()},refreshData:g,formatTime:e=>s(e).format("YYYY-MM-DD HH:mm:ss")}));var u}},O=P();g("data-v-6c743ed2");const D=w("div",{class:"header"},null,-1);u();const z=O(((e,a,t,r,o,l)=>{const n=b("el-table-column"),s=b("el-table"),i=b("el-pagination"),c=b("el-card"),p=f("loading");return m(),h(c,{class:"index-container"},{header:O((()=>[D])),default:O((()=>[v(w(s,{data:e.tableData,"tooltip-effect":"dark",style:{width:"100%"}},{default:O((()=>[w(n,{prop:"username",label:"用戶名"}),w(n,{prop:"realname",label:"姓名"}),w(n,{prop:"cardNo",label:"卡號",width:"200"}),w(n,{prop:"building",label:"樓號",width:"200"}),w(n,{prop:"unit",label:"單元號"}),w(n,{prop:"doorNo",label:"門禁編碼",width:"200"}),w(n,{label:"時間",width:"200"},{default:O((e=>[w("div",null,y(r.formatTime(e.row.createdAt)),1)])),_:1}),w(n,{label:"通過"},{default:O((e=>[w("div",null,y(e.row.pass?"是":"否"),1)])),_:1})])),_:1},8,["data"]),[[p,e.loading]]),w(i,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:r.changePage},null,8,["total","page-size","current-page","onCurrentChange"])])),_:1})}));j.render=z,j.__scopeId="data-v-6c743ed2";export default j;
