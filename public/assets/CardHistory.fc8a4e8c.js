var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;import{h as s}from"./moment.08a7f518.js";import{a as i}from"./axios.a38bd338.js";import{e as p,T as c,O as d,p as g,a as u,r as b,U as f,o as m,c as h,W as y,b as v,t as w,w as O}from"./vendor.8e75f880.js";import"./index.5ab16f6a.js";const P={name:"CardHistory",setup(){const e=p({loading:!1,tableData:[],total:0,currentPage:1,pageSize:10,type:"add",doorOptions:[]});c((()=>{g()}));const g=()=>{e.loading=!0,i.get("/history/list").then((a=>{const t=(e.currentPage-1)*e.pageSize,r=t+e.pageSize;e.total=a.length,e.tableData=a.slice(t,r),e.loading=!1})).catch((e=>{console.error(e)}))};return u=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&l(e,t,a[t]);if(r)for(var t of r(a))n.call(a,t)&&l(e,t,a[t]);return e})({},d(e)),a(u,t({changePage:a=>{e.currentPage=a,g()},refreshData:g,formatTime:e=>s(e).format("YYYY-MM-DD HH:mm:ss")}));var u}},j=O();g("data-v-54065908");const D=v("div",{class:"header"},null,-1);u();const z=j(((e,a,t,r,o,n)=>{const l=b("el-table-column"),s=b("el-table"),i=b("el-pagination"),p=b("el-card"),c=f("loading");return m(),h(p,{class:"index-container"},{header:j((()=>[D])),default:j((()=>[y(v(s,{data:e.tableData,"tooltip-effect":"dark",style:{width:"100%"}},{default:j((()=>[v(l,{prop:"cardNo",label:"舊卡",width:"200"}),v(l,{prop:"newCardNo",label:"新卡",width:"200"}),v(l,{prop:"username",label:"用戶名"}),v(l,{prop:"realname",label:"姓名"}),v(l,{prop:"userInfo",label:"住戶信息"}),v(l,{label:"時間",width:"200"},{default:j((e=>[v("div",null,w(r.formatTime(e.row.createdAt)),1)])),_:1})])),_:1},8,["data"]),[[c,e.loading]]),v(i,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:r.changePage},null,8,["total","page-size","current-page","onCurrentChange"])])),_:1})}));P.render=z,P.__scopeId="data-v-54065908";export default P;
